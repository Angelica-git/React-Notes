{"ast":null,"code":"import _slicedToArray from\"C:/Users/Angelica/Desktop/notes/React-Notes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect,useContext}from'react';import BSForm from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import{createNote,getNotes,updateNote,deleteNote,deleteFromArchive,archiveNote,unArchiveNote}from'../utils/noteHelpers';import Alert from'react-bootstrap/Alert';import{LanguageContext}from'../context/LanguageContext';var STATUS_INITIAL_VALUE='';export default function Form(_ref){var selectedNote=_ref.selectedNote,setSelectedNote=_ref.setSelectedNote,refreshList=_ref.refreshList,isArchived=_ref.isArchived;console.log(selectedNote);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=useState(STATUS_INITIAL_VALUE),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),variant=_useState8[0],setVariant=_useState8[1];var _useContext=useContext(LanguageContext),lang=_useContext.lang;//if (selectedNote) setTitle(selectedNote.title)\nuseEffect(function(){if(selectedNote)return setTitle(selectedNote.title);setTitle('')&&setBody(selectedNote.body);setBody('');},[selectedNote]);useEffect(function(){if(selectedNote)return setBody(selectedNote.body);setBody('');},[selectedNote]);useEffect(function(){setTimeout(function(){return setStatus(STATUS_INITIAL_VALUE);},3000);},[status]);var onChangeTitle=function onChangeTitle(e){return setTitle(e.target.value);};var onChangeBody=function onChangeBody(e){return setBody(e.target.value);};var onSave=function onSave(e){e.preventDefault();setTitle('');setBody('');setStatus(lang['saved']);setVariant('success');if(selectedNote){updateNote(selectedNote.id,title,body);return refreshList();}console.log('Saving new note:',title);createNote(title,body);refreshList();console.log(getNotes());};var onDelete=function onDelete(e){e.preventDefault();var id=selectedNote.id;deleteNote(id);deleteFromArchive(id);refreshList();setTitle('');setBody('');setStatus(lang['deleted']);setVariant('danger');};var handleArchive=function handleArchive(e){e.preventDefault();if(isArchived){unArchiveNote(selectedNote);}else{archiveNote(selectedNote);}refreshList();setTitle('');};return/*#__PURE__*/_jsxs(BSForm,{children:[/*#__PURE__*/_jsxs(BSForm.Group,{controlId:\"formGroupTitle\",children:[/*#__PURE__*/_jsx(BSForm.Label,{children:lang['title']}),/*#__PURE__*/_jsx(BSForm.Control,{value:title,onChange:onChangeTitle})]}),/*#__PURE__*/_jsxs(BSForm.Group,{controlId:\"formGroupNote\",children:[/*#__PURE__*/_jsx(BSForm.Label,{children:lang['body']}),/*#__PURE__*/_jsx(BSForm.Control,{as:\"textarea\",value:body,onChange:onChangeBody})]}),/*#__PURE__*/_jsx(Button,{onClick:onSave,variant:\"success\",style:styles.button,children:lang['save']}),selectedNote&&/*#__PURE__*/_jsxs(Button,{onClick:onDelete,variant:\"danger\",style:styles.button,children:[lang['delete'],\" \",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-trash-alt\"})]}),selectedNote&&/*#__PURE__*/_jsx(Button,{onClick:handleArchive,variant:\"secondary\",style:styles.button,children:isArchived?lang['unarchive']:lang['archive']}),status&&/*#__PURE__*/_jsx(Alert,{className:\"mt-2\",variant:variant,children:status})]});}var styles={button:{marginRight:10}};","map":{"version":3,"sources":["C:/Users/Angelica/Desktop/notes/React-Notes/src/components/Editor.js"],"names":["React","useState","useEffect","useContext","BSForm","Button","createNote","getNotes","updateNote","deleteNote","deleteFromArchive","archiveNote","unArchiveNote","Alert","LanguageContext","STATUS_INITIAL_VALUE","Form","selectedNote","setSelectedNote","refreshList","isArchived","console","log","title","setTitle","body","setBody","status","setStatus","variant","setVariant","lang","setTimeout","onChangeTitle","e","target","value","onChangeBody","onSave","preventDefault","id","onDelete","handleArchive","styles","button","marginRight"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\r\nimport BSForm from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport {\r\n  createNote,\r\n  getNotes,\r\n  updateNote,\r\n  deleteNote,\r\n  deleteFromArchive,\r\n  archiveNote,\r\n  unArchiveNote,\r\n} from '../utils/noteHelpers'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport {LanguageContext} from '../context/LanguageContext'\r\n\r\nconst STATUS_INITIAL_VALUE = ''\r\n\r\nexport default function Form({selectedNote, setSelectedNote, refreshList, isArchived}) {\r\n  console.log(selectedNote)\r\n  const [title, setTitle] = useState('')\r\n  const [body, setBody] = useState('')\r\n  const [status, setStatus] = useState(STATUS_INITIAL_VALUE)\r\n  const [variant, setVariant] = useState('')\r\n  const {lang} = useContext(LanguageContext)\r\n\r\n  //if (selectedNote) setTitle(selectedNote.title)\r\n\r\n  useEffect(() => {\r\n    if (selectedNote) return setTitle(selectedNote.title)\r\n    setTitle('') && setBody(selectedNote.body)\r\n    setBody('')\r\n  }, [selectedNote])\r\n\r\n  useEffect(() => {\r\n    if (selectedNote) return setBody(selectedNote.body)\r\n    setBody('')\r\n  }, [selectedNote])\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => setStatus(STATUS_INITIAL_VALUE), 3000)\r\n  }, [status])\r\n\r\n  const onChangeTitle = (e) => setTitle(e.target.value)\r\n  const onChangeBody = (e) => setBody(e.target.value)\r\n  const onSave = (e) => {\r\n    e.preventDefault()\r\n    setTitle('')\r\n    setBody('')\r\n    setStatus(lang['saved'])\r\n    setVariant('success')\r\n    if (selectedNote) {\r\n      updateNote(selectedNote.id, title, body)\r\n      return refreshList()\r\n    }\r\n\r\n    console.log('Saving new note:', title)\r\n    createNote(title, body)\r\n    refreshList()\r\n    console.log(getNotes())\r\n  }\r\n\r\n  const onDelete = (e) => {\r\n    e.preventDefault()\r\n    const {id} = selectedNote\r\n    deleteNote(id)\r\n    deleteFromArchive(id)\r\n    refreshList()\r\n    setTitle('')\r\n    setBody('')\r\n    setStatus(lang['deleted'])\r\n    setVariant('danger')\r\n  }\r\n\r\n  const handleArchive = (e) => {\r\n    e.preventDefault()\r\n    if (isArchived) {\r\n      unArchiveNote(selectedNote)\r\n    } else {\r\n      archiveNote(selectedNote)\r\n    }\r\n    refreshList()\r\n    setTitle('')\r\n  }\r\n\r\n  return (\r\n    <BSForm>\r\n      <BSForm.Group controlId=\"formGroupTitle\">\r\n        <BSForm.Label>{lang['title']}</BSForm.Label>\r\n        <BSForm.Control value={title} onChange={onChangeTitle} />\r\n      </BSForm.Group>\r\n      <BSForm.Group controlId=\"formGroupNote\">\r\n        <BSForm.Label>{lang['body']}</BSForm.Label>\r\n        <BSForm.Control as=\"textarea\" value={body} onChange={onChangeBody} />\r\n      </BSForm.Group>\r\n      <Button onClick={onSave} variant=\"success\" style={styles.button}>\r\n        {lang['save']}\r\n      </Button>\r\n      {selectedNote && (\r\n        <Button onClick={onDelete} variant=\"danger\" style={styles.button}>\r\n          {lang['delete']} <i class=\"fas fa-trash-alt\"></i>\r\n        </Button>\r\n      )}\r\n      {selectedNote && (\r\n        <Button onClick={handleArchive} variant=\"secondary\" style={styles.button}>\r\n          {isArchived ? lang['unarchive'] : lang['archive']}\r\n        </Button>\r\n      )}\r\n      {status && (\r\n        <Alert className=\"mt-2\" variant={variant}>\r\n          {status}\r\n        </Alert>\r\n      )}\r\n    </BSForm>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  button: {marginRight: 10},\r\n}\r\n"]},"metadata":{},"sourceType":"module"}